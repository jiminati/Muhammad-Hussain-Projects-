#include <Servo.h>
Servo joint[6];
float angles[6];
String inputString = "";

void setup() {
  joint[0].attach(2); joint[1].attach(3); joint[2].attach(4);
  joint[3].attach(5); joint[4].attach(6); joint[5].attach(7);
  Serial.begin(115200);
}

void loop() {
  if (Serial.available()) {
    inputString = Serial.readStringUntil('\n');
    sscanf(inputString.c_str(), "%f,%f,%f,%f,%f,%f", 
           &angles[0], &angles[1], &angles[2], 
           &angles[3], &angles[4], &angles[5]);
    for (int i = 0; i < 6; i++) joint[i].write(angles[i]);
  }
}
